\documentclass[a4paper,11pt]{report}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
% Mes polices: times, newcent, default
\usepackage{times} % probleme d'accent avec charter
\usepackage[francais]{babel}
\usepackage[top=3cm, bottom=3cm, left=3cm, right=3cm]{geometry}
\usepackage{array}
\usepackage{fancyhdr}
\usepackage{textcomp}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{array}
\usepackage{varwidth}
\usepackage{imakeidx}
\setcounter{secnumdepth}{3}


\makeatletter
\def\clap#1{\hbox to 0pt{\hss #1\hss}}%
\def\ligne#1{%
\hbox to \hsize{%
\vbox{\centering #1}}}%
\def\haut#1#2#3{%
\hbox to \hsize{%
\rlap{\vtop{\centering #1}}%
\hss
\clap{\vtop{\centering #2}}%
\hss
\llap{\vtop{\centering #3}}}}%
\def\bas#1#2#3{%
\hbox to \hsize{%
\rlap{\vbox{\centering #1}}%
\hss
\clap{\vbox{\centering #2}}%
\hss
\llap{\vbox{\centering #3}}}}%
\def\maketitle{%
\thispagestyle{empty}\vbox to \vsize{%
\haut{}{\@blurb}{}
\vfill
\vspace{1cm}
\begin{flushleft}
\usefont{OT1}{ptm}{m}{n}
\huge \@title
\end{flushleft}
\par
\hrule height 4pt
\par
\begin{flushright}
\usefont{OT1}{phv}{m}{n}
\Large \@author
\par
\end{flushright}
\vspace{1cm}
\vfill
\vfill
%\bas{}{\@location, le \@date}{}
\bas{}{\@date}{}
}%
\cleardoublepage
}
\def\date#1{\def\@date{#1}}
\def\author#1{\def\@author{#1}}
\def\title#1{\def\@title{#1}}
\def\location#1{\def\@location{#1}}
\def\blurb#1{\def\@blurb{#1}}
\date{Année académique 2014 – 2015}
\location{Bruxelles}
\makeatother
\title{ \textsc{CityLord} :
\textsc{Software Requirements Document}\\}

\author{\textsc{\textbf{Groupe 2}}\newline Zakaria \textsc{Aharrar} – Hakim \textsc{Boulahya} – David \textsc{Fishel} – Cédric \textsc{Orinx} – Gabriel \textsc{Ortega} – Kaio \textsc{Lopes}}
\location{Bruxelles}
\blurb{%
UNIVERSITÉ LIBRE DE BRUXELLES\\
Faculté des sciences\\
\textsc{\textbf{Département d'informatique}}
%\textbf{Rapport de stage en entreprise}\\
\\[2em]
Enseignants : 
Joël GOOSSENS, Christian HERNALSTEEN\\
Cours : INFO-F-209 – Projet d'année 2
}%

\makeindex

\begin{document}
%\fancypagestyle{empty}{
%  \fancyhf{}
%  \fancyhead[L]{\includegraphics[scale=1]{logoulb.jpg}}
%}
\maketitle
\tableofcontents


\chapter{Introduction}
\section{But du projet}
\paragraph{}
Nous allons implémenter CityLord\index{Citylord}, un jeu de gestion de ville multi-joueur.
Celui-ci se jouera entre 2 à 8 joueurs différents qui pourront acheter, vendre, ou améliorer des bâtiments, dans une même villes.
Le but du jeu est le même pour chaque joueur, être le dernier propriétaire dans la ville, ou bien être celui avec le plus grand capital (argent+valeur des bâtiments) à la fin du temps imparti.

Au départ, chaque joueur commence avec une parcelle prise au hasard, et une somme modeste lui permettant d'acheter un nombre limité de propriété (1 voir 2 parcelles ou bâtiments).

Pour gagner de l'argent, des visiteurs (non-controlé par les joueurs) doivent entrer dans un de leur établissement, y rester une durée déterminée, leur donner l'argent adapté à l'établissement où il se trouve, et disparaitra ensuite de la partie.
Un visiteur ne peut apparaitre qu'à des endroits prédéfini sur la carte (ex: station de métro), il suivra alors un chemin également prédéfini (ex: vers la sortie de la ville), et entrera dans un établissement qu'il croise, si celui-ci l’intéresse.
Ce sera donc aux joueurs de bien positionner leurs bâtiments là où ils ont le plus de chances d'attirer un grand nombre de visiteur.

Les bâtiments ne peuvent accueillir qu'un nombre limité de visiteur en même temps, accepter une même somme par visiteur, et se débarrasser d'un visiteur qu'après une certaine durée.
Un joueur peut, s'il le souhaite et pour un certain coût, amélioré son bâtiment, et alors augmenter la capacité maximale, la recette par visiteur et diminuer la durée d'occupation d'un visiteur.

Si un joueur est en faillite, à cause d'un coût d'entretien trop élevé face aux recettes, il sera alors obligé de vendre des propriétés. Il mettra alors sa propriété (parcelle+bâtiment) dans le catalogue de vente, ouvert à tous les joueurs.
Il peut également s'il le souhaite, supprimer son bâtiment, ce qui réduira grandement les coût d'entretien, mais rendra les recettes nulles. (Une parcelle vide à un coût d'entretien, mais pas de revenu, ceci est pour éviter qu'un joueur achète tous les emplacements simplement pour empêcher les autres de construire).

La partie s'achève lorsqu'il ne reste qu'un seul joueur en jeu, n'ayant pas fait faillite, ou que le temps est écoulé. Lorsque l'horloge arrive à 0, le jeu est arrêté et le joueur remportant la partie est celui dont le capital cumulé (argent sur le compte + prix réel des bâtiments possédés) est le plus élevé. En cas d'égalité, le vainqueur est choisi en comptant la notoriété des bâtiments, puis le nombre de bâtiments (celui qui en a le plus gagne), et enfin le nombre de visiteurs total lors de la partie.

\newpage
\section{Glossaire}
\begin{itemize}
 \item \textbf{System:} Ensemble d'éléments interagissant entre eux selon certains principes ou règles. Dans ce cas, il s’agit du programme.
 \item \textbf{Server:} Ordinateur dédié à l'administration d'un réseau informatique. Il gère l'accès aux ressources et aux périphériques et les connexions des différents utilisateurs.
 \item \textbf{Computer Network:} Ensemble des moyens matériels et logiciels mis en œuvre pour assurer les communications entre ordinateurs.
 \item \textbf{Pseudo:} Nom d'emprunt qu'une personne porte pour exercer une activité sous un autre nom que celui de son identité officielle.
 \item \textbf{Map:} Carte prédéfinie, représentant une ville.
 \item \textbf{Catalog:} Liste reprenant toutes les propriétés mises en vente par les joueurs ou par la villes.
 \item \textbf{Upgrade:} Action d'améliorer un bâtiment.
 \item \textbf{Log In:} se connecter.
 \item \textbf{Log Out:} se déconnecter.
 \item \textbf{Debug:} Action de chercher, trouver et retirer un bug d’un programme informatique.
 \item \textbf{Host:} Action d'héberger une partie.
 \item \textbf{Join:} Action de rejoindre une partie.
 \item \textbf{Build:} Bâtiment qui permettra de faire tourner le jeu.
\end{itemize}

\section{Historique du document}

\begin{tabular}{|c|c|c|c|}
\hline
Date de modification & Version & Modification apportée & Auteur \\
\hline
23/03/2015 & 3.0 & \parbox{7cm}{- \\ Insertion du UseCase Sabotage. \\} & David \\
\hline
20/03/2015 & 2.10 & \parbox{7cm}{- \\ Modification des figures des UseCases [Interface de connexion] \& [Construire-Améliorer-Détruire]. \\} & David \\
\hline
19/03/2015 & 2.9 & \parbox{7cm}{- \\ Correction de fautes d'orthographes. Ajout de mots dans le glossaire. \\ } & Cédric \\
\hline
15/03/2015 & 2.8 & \parbox{7cm}{- \\ Modification de la description textuelle du UseCase [Construire-Améliorer-Détruire]. \\} & David \\
\hline
15/03/2015 & 2.7 & \parbox{7cm}{- \\ Diagramme de classe : ajoute de UpdateSystem, RequestSystem et ClientManager + liaison entre packages. \\} & Hakim \\
\hline
13/03/2015 & 2.7 & \parbox{7cm}{- \\ Mise à jour du diagramme de classe - mise en avant des packages. \\} & Hakim \\
\hline
12/03/2015 & 2.6 & \parbox{7cm}{- \\ Correction de fautes d'orthographes. Remplacement des mots de l'index en anglais. \\} & Cédric \\
\hline
07/03/2015 & 2.5 & \parbox{7cm}{- \\ Repositionnement des figures avec leur UseCase. \\} & David \\
\hline
20/02/2015 & 2.4 & \parbox{7cm}{- \\ Modification du use case "Login" et modification des exigences non fonctionnelles. \\} & Zakaria \\
\hline
19/02/2015 & 2.3 & \parbox{7cm}{ - \\ Modification du glossaire, but du jeu, Historique (tableau), use cases, ajustement, orthographe, enrichissement des pré et post condition.\\} & Zakaria \\
\hline
16/02/2015 & 2.2 & \parbox{7cm}{-\\ Modification du Use Case de "Log In", plus de utilisateur hôte mais un serveur \& modification des besoins non-fonctionnels\\} & David \\
\hline
13/02/2015 & 2.1 & \parbox{7cm}{-\\ Modification du glossaire, enrichissement des pré et post condition.\\} & David - Cédric \\
\hline
06/02/2015 & 2.0 & \parbox{7cm}{-\\Modification du But du projet, ajout au glossaire \& index +précondition "Construire".\\} & David \\
\hline
\end{tabular}
\newpage
\begin{tabular}{|c|c|c|c|}
	\hline
	Date de modification & Version & Modification apportée & Auteur \\
	\hline
15/12/2015 & 1.8 & \parbox{7cm}{-\\ Mise à jour des exigences de domaine.\\} &  Cédric \\
\hline
14/12/2015 & 1.7 & \parbox{7cm}{-\\ Ajout des descriptions textuelles des use case (Premiers achats,Construire-Améliorer-Détruire,Achats entre joueurs).\\} & David\\
\hline
12/12/2015 & 1.6 & \parbox{7cm}{-\\ Rajout et correction des descriptions textuelles des use case, ajout des éxigeances de domaine.\\} & Hakim \\
\hline
11/12/2015 & 1.5 & \parbox{7cm}{-\\ Description de Use Case interface de connexion.\\} & Kaio \\
\hline
11/12/2015 & 1.4 & \parbox{7cm}{-\\ Exigence fonctionnelles (Besoin de l'utilisateur) et ajout dans le glossaire et l'index des termes.\\} & David \\
\hline
11/12/2015 & 1.3 & \parbox{7cm}{-\\ Ajout du diagramme de classe.\\} & Équipe \\
\hline
10/12/2015 & 1.2 & \parbox{7cm}{-\\ Ajout des premières \textit{use case}\\} & Zakaria \\
\hline
10/12/2015 & 1.1 & \parbox{7cm}{-\\Première version. Contient les points 1.1, 1.2, 1.3, 2 et 2.1 (partiellement).\\} & Zakaria \\
\hline
09/12/2015 & 1.0 & \parbox{7cm}{Création du document.} & Hakim\\
\hline
\end{tabular}


\newpage
\chapter{Besoins de l'utilisateur}
\section{Exigences fonctionnelles}
\subsection{Interface de connexion}
\begin{figure}[ht]
    \makebox[\linewidth]{
        \includegraphics[width=500pt]{uml/useCaseDiagrams/loginUseCase.png}
    }
    \caption{Use Case Login/Logout}
\end{figure}
\newpage
\subsubsection{Log in}
\paragraph{Préconditions}
\begin{itemize}
 \item Le jeu doit être ouvert.
 \item L'utilisateur ne doit pas être connecté.
\end{itemize}
\paragraph{Postconditions}
\begin{itemize}
 \item L'utilisateur est connecté.
\end{itemize}
\paragraph{Cas général}
Une fois le jeu démarrer, l'utilisateur peut se connecté insérant un nom d'utilisateur existant et le mot de passe associé
[Exception : mauvais mot de passe ou pseudo non-existant].
Une fois toutes les informations entré, l'utilisateur appuie sur le bouton \og \textit{Connect} \fg, et l'utilisateur est
connecté. Un utilisateur non-enregistré peut également créer un nouveau pseudo unique
et lui associé mot de passe en appuyant sur le bouton \og \textit{Create} \fg
[Exception: pseudo déjà utilisé].
Une fenêtre va ensuite s'ouvrir et lui demandé d'entrer les informations nécessaires 
[Exception: aucun pseudo et/ou mot de passe entré]. Ceci ajoutera sur le \textit{server} un nouvel utilisateur avec comme
pseudo et mot de passe associés ceux entrés dans les zones appropriées, et connectera l'utilisateur automatiquement.
\paragraph{Exceptions}
\begin{itemize}
 \item \textit{Mauvais mot de passe ou pseudo non-existant:} Après la pression du bouton \og \textit{Connect} \fg
 ,sur la même vue, une remarque apparait, en une couleur fortement
 perceptible, et indique à l'utilisateur que les informations entrées sont incorrectes. La fenêtre de connexion reste ouverte et
 demande à l'utilisateur de réentrer son pseudo et son mot de passe.
 \item \textit{Pseudo\index{pseudo} déja utilisé:} Après la pression du bouton \og \textit{Create} \fg,
 sur la même vue, une remarque apparait, en une couleur fortement
 perceptible, et indique à l'utilisateur que le pseudo demandé est déjà utilisé. La fenêtre de création reste ouverte
 et demande à l'utilisateur de réentrer un nouveau pseudo.
 \item \textit{Aucun pseudo\index{pseudo} et/ou mot de passe entré:} Dans les deux cas - de connexion ou de création - si l'utilisateur
 manque d'entrer une information, après du bouton associé à la fenêtre en premier plan, sur la même vue,
 une remarque apparait, en une couleur fortement perceptible, et indique à l'utilisateur l'information manquante. La
 fenêtre reste ouvert et demande à l'utilisateur d'entrer cette information pour continuer la connexion ou la création.
\end{itemize}

\subsubsection{Log out}
\paragraph{Préconditions}
\begin{itemize}
 \item L'utilisateur doit être connecté.
\end{itemize}
\paragraph{Postconditions}
\begin{itemize}
 \item L'utilisateur est déconnecté.
 \item La fenêtre du jeu est fermé.
\end{itemize}
\paragraph{Cas général}
Un joueur peut se déconnecté à n'importe quel moment. Si il est en partie, il la quitte automatiquement. L'utilisateur
est ensuite déconnecté et la fenêtre du jeu se ferme.
\paragraph{Exceptions} Néant.
\subsubsection{Join game}
\paragraph{Préconditions}
\begin{itemize}
 \item L'utilisateur est connecté.
\end{itemize}
\paragraph{Postconditions}
\begin{itemize}
 \item L'utilisateur est dans une partie.
\end{itemize}
\paragraph{Cas général}
Un utilisateur client peut rejoindre une partie en appuyant sur le bouton \og \textit{Join Game} \fg 
du menu principal.
Il est ensuite envoyé dans l'écran de sélection du jeu, ou il lui est possible de voir toutes les parties lancées sur le
même \textit{server} et visualiser les différentes informations sur chacune d'elles, comme le temps passé depuis le lancement
de la partie ou le status de celle-ci.
[Exception: la partie est complète]
Après avoir rejoins une partie, si celle-ci n'est pas commencé le joueur est placé dans l’accueil où il peut
voir tous les joueurs en attente - du début de la partie -, dont l’hôte de la partie, et la carte choisie. Il lui
est également possible de chatter avec les autres joueurs. 
[Exception: Hôte ferme la partie]
Dans le cas où la partie est déjà commencé le joueur reçoit de l'argent.
\paragraph{Exceptions}
\begin{itemize}
 \item \textit{La partie est complète:} Une fenêtre s'ouvre indiquant a l'utilisateur que la partie est complète
 et donc injoignable. Une fois cette fenêtre fermée l'utilisateur est ramené au menu de sélection.
 \item \textit{Hôte ferme la partie:} L'utilisateur client est ramené au menu de sélection [pour plus d'informations, voir
 Host Game]. 
\end{itemize}

\subsubsection{Create game}
\paragraph{Obligations spéciales}
\begin{itemize}
 \item Inclut Select Map.
\end{itemize}
\paragraph{Préconditions}
\begin{itemize}
 \item L'utilisateur doit être connecté.
\end{itemize}
\paragraph{Postconditions}
\begin{itemize}
 \item Une partie est ajoutée sur le \textit{server}.
 \item Au moins 2 joueurs participent.
\end{itemize}
\paragraph{Cas général}
L'utilisateur est capable de créer une partie en appuyant sur le bouton \og \textit{Create game} \fg dans le menu principal.
Il choisit d'abords une Map et optionnellement d'autres options; la partie est alors créée, mais n'est pas lancée tant qu'il n'y a pas au moins 2 joueurs qui participent.
Quand il y a assez de joueur - minimum 2 et maximum 8 - le bouton \og \textit{Start game} \fg s'active. Quand il est cliqué, la partie démarre.
\paragraph{Exceptions} Néant.

\newpage
\subsubsection{Select map}
\paragraph{Obligations spéciales}
\begin{itemize}
 \item Est inclut dans Host Game
\end{itemize}
\paragraph{Préconditions}
\begin{itemize}
 \item L'utilisateur doit être dans le menu de création de partie.
\end{itemize}
\paragraph{Postconditions}
\begin{itemize}
 \item La carte choisie est chargée.
\end{itemize}
\paragraph{Cas général}
L'utilisateur peut choisir une carte dans une liste prédéfinie de carte. Quand tous les éléments pour démarrer la partie
sont réunis [pour plus d'informations, voir Host Game], la carte est chargée.
\paragraph{Exceptions} Néant.

\newpage
\subsection{Achats libres}
\begin{figure}[ht]
    \makebox[\linewidth]{
        \includegraphics[width=500pt]{uml/useCaseDiagrams/buyUseCase.png}
    }
    \caption{Use Case Open Market}
\end{figure}
\subsubsection{Faire une offre}
\paragraph{Préconditions}
\begin{itemize}
 \item La partie est en cours.
 \item La propriété voulue n'appartient à personne.
\end{itemize}
\paragraph{Postconditions}
\begin{itemize}
 \item Une offre pour une propriété est envoyée.
\end{itemize}
\paragraph{Cas général}
A tout moment de la partie, n'importe quel joueur peut sélectionner une propriété dans le \textit{catalog} qui n'a pas de propriétaire, et faire une offre sur celle-ci. Après avoir sélectionner la propriété, ses informations sont affichées, et le joueur peut cliquer sur acheter.[Exception : Le joueur n'a pas assez d'argent]
\paragraph{Exceptions}
\begin{itemize}
 \item \textit{Le joueur n'a pas assez d'argent:} Une fenêtre s'ouvre indiquant au joueur qu'il ne possède pas assez d'argent.
\end{itemize}

\subsubsection{Annuler une offre}
\paragraph{Préconditions}
\begin{itemize}
 \item La partie est en cours.
 \item Le joueur à fait une offre qui n'as pas encore été validée.
\end{itemize}
\paragraph{Postconditions}
\begin{itemize}
 \item L'offre est annulée et retirée.
\end{itemize}
\paragraph{Cas général}
Dès que le joueur a mit une offre et tant que celle-ci n'a pas été acceptée, ce joueur peut annuler cette offre.
\paragraph{Exceptions} Néant.

\subsubsection{Accepter une offre}
\paragraph{Préconditions}
\begin{itemize}
 \item La partie est en cours.
 \item Un joueur a fait une offre.
\end{itemize}
\paragraph{Postconditions}
\begin{itemize}
 \item Le joueur paie le prix de la propriété.
 \item Le joueur devient propriétaire de la propriété.
\end{itemize}
\paragraph{Cas général}
Lorsque le \textit{catalog} reçoit une offre sur un bâtiment, il accepte automatiquement celle-ci.[Exception : Deux joueur font la demande en même temps] Une fois l'offre acceptée, le joueur doit confirmer son achat ou l'annuler.
\paragraph{Exceptions}
\begin{itemize}
 \item \textit{Deux joueur font la demande en même temps:} La première offre reçue sera prise en compte, l'autre sera annulée.
\end{itemize}

\subsubsection{Mettre en vente}
\paragraph{Préconditions}
\begin{itemize}
 \item La partie est en cours.
 \item Il existe un bâtiment sans propriétaire.
\end{itemize}
\paragraph{Postconditions}
\begin{itemize}
 \item Le bâtiment est en vente libre.
\end{itemize}
\paragraph{Cas général}
Dès qu'un bâtiment n'as pas de prioritaire, le \textit{catalog} le met en vente libre. Les bâtiments créés en début de partie seront mit dans le \textit{catalog}, ainsi que les bâtiments d'un joueur qui vient de perdre qui sont mit en vente libre.
\paragraph{Exceptions} Néant.

\newpage
\subsection{Construire-Améliorer-Détruire}
\begin{figure}[ht]
    \makebox[\linewidth]{
        \includegraphics[width=550pt]{uml/useCaseDiagrams/buildDestroyUseCase.png}
    }
    \caption{Use Case Buid/Upgrade/Destroy}
\end{figure}

\subsubsection{Select Location}
\paragraph{Préconditions}
\begin{itemize}
	\item Le joueur est dans une partie, sur l'écran de jeu.
\end{itemize}
\paragraph{Postconditions}
\begin{itemize}
	\item Une propriété est sélectionnée.
	\item Les informations sur cette propriété sont affichées.
	\item Les boutons <Buy>,<Build>,<Upgrade>,<Sell>,<Demolish> s'activent ou se désactivent selon la propriété sélectionnée.
\end{itemize}
\paragraph{Cas général}
Le joueur doit simplement cliquer, sur la carte, sur le terrain exigé.[Exception : Sélection invalide]
\paragraph{Exceptions}
\begin{itemize}
	\item \textit{Sélection invalide:} Si l'emplacement sélectionné n'est pas un terrain/bâtiment (et donc une route ou un obstacle), la sélection n'est pas faite.
\end{itemize}

\subsubsection{Construire}
\paragraph{Obligations spéciales}
\begin{itemize}
 \item Inclut Select Building Type.
\end{itemize}
\paragraph{Préconditions}
\begin{itemize}
 \item La partie est en cours.
 \item Le joueur a sélectionné une parcelle qui lui appartient et est vide. (Le bouton <Build> est activé).
\end{itemize}
\paragraph{Postconditions}
\begin{itemize}
 \item Un bâtiment est construit et affiché sur la carte.
 \item Le joueur possède ce nouveau bâtiment.
 \item Le joueur a payé le prix de construction.
\end{itemize}
\paragraph{Cas général}
Lorsque un joueur veut construire un nouveau bâtiment, il lui faudra simplement sélectionner une parcelle qui lui appartient et est vide. Le bouton \og \textit{<Build>} \fg s'activera. Le joueur devra cliquer dessus, il entre alors en mode Construction; Un tableau s'affichera, permettant au joueur de sélection un type de bâtiment et affichant les informations sur ce type. Il peut à tout moment quitter ce mode et annuler la construction, en cliquant sur \og \textit{Annuler} \fg. Pour valider l'opération, le joueur cliquera sur \og \textit{<Ok>} \fg.[Exception : Le joueur n'as pas assez d'argent] Il devra payer ensuite le prix indiqué.
\paragraph{Exceptions}
\begin{itemize}
 \item \textit{Le joueur n'as pas assez d'argent:}  Une fenêtre s'ouvre indiquant au joueur qu'il ne possède pas assez d'argent.
\end{itemize}
\subsubsection{Upgrade}
\paragraph{Préconditions}
\begin{itemize}
 \item La partie est en cours.
 \item Le joueur possède au moins un bâtiment.
 \item Le joueur a sélectionné une parcelle qui lui appartient et qui a un bâtiment améliorable. (Le bouton <Upgrade> est activé).
\end{itemize}
\paragraph{Postconditions}
\begin{itemize}
 \item Un bâtiment sélectionné est amélioré d'un niveau.
 \item Le joueur a dépensé de l'argent pour l'amélioration.
\end{itemize}
\paragraph{Cas général}
Lorsque un joueur veut améliorer un bâtiment, il lui faudra simplement sélectionner une parcelle qui lui appartient et qui possède un bâtiment améliorable. Le bouton \og \textit{<Upgrade>} \fg s'activera. Le joueur devra cliquer dessus. Un tableau s'affichera, permettant au joueur de voir les informations sur le niveau supérieur de ce bâtiment.[Exception : Bâtiment amélioré au max] Pour valider l'opération, le joueur cliquera sur \og \textit{<Ok>} \fg.[Exception : Le joueur n'as pas assez d'argent] Il devra payer ensuite le prix indiqué.
\paragraph{Exceptions}
\begin{itemize}
 \item \textit{Le joueur n'as pas assez d'argent:}  Une e s'ouvre indiquant au joueur qu'il ne possède pas assez d'argent.
 \item \textit{Bâtiment amélioré au max:}  Les bâtiments ont un niveau maximum d'amélioration Une fenêtre s'ouvre indiquant au joueur qu'il ne peut plus améliorer ce bâtiment.
\end{itemize}
\subsubsection{Destroy}
\paragraph{Préconditions}
\begin{itemize}
 \item La partie est en cours.
 \item Le joueur possède au moins un bâtiment.
 \item Le joueur a sélectionné une parcelle qui lui appartient et qui a un bâtiment. (Le bouton <Destroy> est activé).
\end{itemize}
\paragraph{Postconditions}
\begin{itemize}
 \item Un bâtiment est détruit et n’existe plus.
 \item Le propriétaire gagne une somme d'argent équivalente à la moitié de la valeur du bâtiment détruit.
\end{itemize}
\paragraph{Cas général}
Un joueur peut également détruire un de ses bâtiments. Il lui suffit de sélectionner une parcelle qui lui appartient et qui possède un bâtiment et ensuite de cliquer sur le bouton \og \textit{<Destroy>} \fg. Un tableau s'affichera montrant le gain de la destruction. Il peut à tout moment quitter ce mode et annuler la destruction en cliquant sur \og \textit{<Annuler>} \fg. Pour valider l'opération, le joueur cliquera sur \og \textit{<Ok>} \fg. Une fois détruit, le bâtiment rapporte la moitié de la valeur de celui-ci à son propriétaire.
\newpage
\subsubsection{Select Building type}
\paragraph{Obligations spéciales}
\begin{itemize}
 \item Est inclut dans Build.
\end{itemize}
\paragraph{Préconditions}
\begin{itemize}
 \item Le joueur est entré en mode Construction.
\end{itemize}
\paragraph{Postconditions}
\begin{itemize}
 \item Un type est sélectionné pour la construction.
 \item Les information lié à ce type sont affiché dans le tableau de construction.
\end{itemize}
\paragraph{Cas général}
Un \textit{catalog} de types prédéfinis de bâtiment(bar,magasin,night-club,...) apparaît, pour chaque type les statistiques (prix, coûts, capacité, heures,..) sont affichés. Il suffit au joueur alors de cliquer sur le type désiré.
\paragraph{Exceptions} Néant.



\newpage
\subsection{Achats entre joueurs}
\begin{figure}[ht]
    \makebox[\linewidth]{
        \includegraphics[width=550pt]{uml/useCaseDiagrams/offerUseCase.png}
    }
    \caption{Use Case between players sale}
\end{figure}
\subsubsection{Faire une offre}
\paragraph{Préconditions}
\begin{itemize}
 \item La partie est en cours.
 \item La propriété voulue appartient à un joueur.
\end{itemize}
\paragraph{Postconditions}
\begin{itemize}
 \item Une offre pour une propriété est envoyé à un autre joueur.
\end{itemize}
\paragraph{Cas général}
A tout moment de la partie, un joueur peut tenter d'acheter le bâtiment d'un autre. Il lui doit simplement de faire une offre auprès de ce joueur, pour ce bâtiment.[Exception : Le joueur a fait trop d'offre] Il suffit à l'acheteur de sélectionner le bâtiment voulu et de cliquer sur \og \textit{Faire une offre} \fg, une fenêtre s'ouvre pour que le joueur puisse donner le prix qu'il est prêt a payer et confirme son offre.[Exception : Le joueur n'a pas assez d'argent] 
\paragraph{Exceptions}
\begin{itemize}
 \item \textit{Le joueur n'a pas assez d'argent:} Une fenêtre s'ouvre indiquant au joueur qu'il ne possède pas assez d'argent.
 \item \textit{Le joueur a fait trop d'offre:} Afin d'éviter tout spam, une limite d'offre sur un temps donné est instauré.
\end{itemize}
\subsubsection{Annuler une offre}
\paragraph{Préconditions}
\begin{itemize}
 \item La partie est en cours.
 \item Le joueur à fait une offre qui n'a pas encore été validée.
\end{itemize}
\paragraph{Postconditions}
\begin{itemize}
 \item L'offre est annulée.
\end{itemize}
\paragraph{Cas général}
Dès que le joueur a mit une offre et tant que celle-ci n'a pas été acceptée, ce joueur peut annuler cette offre.
\paragraph{Exceptions} Néant.
\subsubsection{Accepter une offre}
\paragraph{Préconditions}
\begin{itemize}
 \item La partie est en cours.
 \item Un joueur a reçu une offre.
\end{itemize}
\paragraph{Postconditions}
\begin{itemize}
 \item L'acheteur devient propriétaire de la propriété.
 \item Le vendeur reçoit une compensation monétaire et perd sa propriété.
\end{itemize}
\paragraph{Cas général}
Lorsque un joueur reçoit une offre sur un bâtiment, une fenêtre s'affiche avec les informations sur cette offre, il peut accepter celle-ci en cliquant sur \og \textit{Accepter} \fg.
\paragraph{Exceptions} Néant
\subsubsection{Refuser une offre}
\paragraph{Préconditions}
\begin{itemize}
 \item La partie est en cours.
 \item Un joueur a reçu une offre.
\end{itemize}
\paragraph{Postconditions}
\begin{itemize}
 \item L'offre est annulée.
\end{itemize}
\paragraph{Cas général}
Lorsque un joueur reçoit une offre sur un bâtiment, une fenêtre s'affiche avec les informations sur cette offre, il peut refuser celle-ci en cliquant sur \og \textit{Refuser} \fg.
\paragraph{Exceptions} Néant






\newpage
\subsection{Sabotage}
\begin{figure}[ht]
	\makebox[\linewidth]{
		\includegraphics[width=550pt]{uml/useCaseDiagrams/sabotage.png}
	}
	\caption{Use Case Buid/Upgrade/Destroy}
\end{figure}

\subsubsection{Select Location}
\paragraph{Préconditions}
\begin{itemize}
	\item Le joueur est dans une partie, sur l'écran de jeu.
\end{itemize}
\paragraph{Postconditions}
\begin{itemize}
	\item Une propriété est sélectionnée.
	\item Les informations sur cette propriété sont affichées.
	\item Les boutons <Buy>,<Build>,<Upgrade>,<Sell>,<Demolish> s'activent ou se désactivent selon la propriété sélectionnée.
\end{itemize}
\paragraph{Cas général}
Le joueur doit simplement cliquer, sur la carte, sur le terrain exigé.[Exception : Sélection invalide]
\paragraph{Exceptions}
\begin{itemize}
	\item \textit{Sélection invalide:} Si l'emplacement sélectionné n'est pas un terrain/bâtiment (et donc une route ou un obstacle), la sélection n'est pas faite.
\end{itemize}

\subsubsection{Place RoadBlock}
\paragraph{Préconditions}
\begin{itemize}
	\item La partie est en cours.
	\item Le joueur a sélectionné une route qui est vide.
\end{itemize}
\paragraph{Postconditions}
\begin{itemize}
	\item Un barrage est construit et affiché sur la carte à l'emplacement séléctionné.
	\item Le joueur a payé le prix de construction du barrage.
\end{itemize}
\paragraph{Cas général}
Lorsque un joueur veut construire un nouveau barrage, il lui faudra simplement sélectionner une route est vide. Le bouton \og \textit{<Build RoadBlock>} \fg s'activera. Le joueur devra cliquer dessus, il entre alors en mode Construction; Un tableau s'affichera affichant les informations sur le barrage. Il peut à tout moment quitter ce mode et annuler la construction, en cliquant sur \og \textit{Annuler} \fg. Pour valider l'opération, le joueur cliquera sur \og \textit{<Ok>} \fg.[Exception : Le joueur n'as pas assez d'argent] Il devra payer ensuite le prix indiqué.
\paragraph{Exceptions}
\begin{itemize}
	\item \textit{Le joueur n'as pas assez d'argent:}  Une fenêtre s'ouvre indiquant au joueur qu'il ne possède pas assez d'argent.
\end{itemize}




\newpage
\section{Exigences non fonctionnelles}
\subsection{Service}
\paragraph{}Ergonomie:  \newline
Le \textit{system} sera crée de telle sorte qu'il disposera d’une apparence graphique concise, afin que le joueur puisse repérer les options dont il a besoin dans le menu du jeu.

La map sera aura comme particularité que chaque joueur aura sa couleur qui sera affichée sur ses propriétés.

L'utilisation sera facilitée par l'interface graphique, grâce à des icônes, boutons et aides affichées tout au long du jeu.

\paragraph{}Aptitude à la maintenance:  \newline
Le concept de programmation orientée objet étant suivit avec rigueur pour l’implémentation du jeu, celui-ci permettra la mise à jour ou le débuggage du jeu.

\paragraph{}Compatibilité:  \newline
Le jeu est implémenté sur et pour un \textit{system} d'exploitation Linux seulement.

\paragraph{}Rétablissement:  \newline
Dans le cas d'un crash ou d'arrêt de \textit{server}, il faut faire en sorte que les joueurs puissent reprendre leur partie. Le \textit{server} fera donc une sauvegarde automatique à chaque debut de journée(de la partie en cours, 7h du matin). 
Vu qu'une seule sauvegarde est nécessaire, la nouvelle remplacera la précédente.
Si la partie se termine, la sauvegarde lié à celle-ci sera supprimée.

Quand le \textit{server} re-démarre, il vérifie si une partie en cours a été interrompue; si oui, il relance la partie grâce à sa sauvegarde.

\paragraph{}Disponibilité:  \newline
Le jeu sera disponible 24h/24 7j/7, tant que le serveur tourne. Celui ne sera arrêté que brièvement lors de possible maintenance de débuggage et mise à jour.

\subsection{Contraintes}
\paragraph{}
Afin de fonctionner correctement, et d’avoir une expérience de jeu optimale, le \textit{system} devra être lancé sur un ordinateur possédant la configuration nécessaire.
En cas d’environnement peu performant, il est possible que des ralentissements, ou qu’un manque de fluidité se fasse ressentir.
\paragraph{}
Il est également nécessaire que le \textit{system} soit accompagné d’une connexion internet stable et rapide.
Sans cela, la communication avec le \textit{server} et entre les joueurs serait endommagée, et endommagerait la jouabilité de tous les joueurs.

\newpage

\section{Exigences de domaine}
\begin{itemize}
 \item Le jeu est multijoueurs, et doit donc permettre aux différents utilisateurs de communiquer entre eux.
 \item Une partie doit être composé d'au minimum 2 joueurs et au maximum 8 joueurs.
 \item Les 8 premiers joueurs qui rejoignent la partie seront les seules 8 joueurs capable de la rejoindre.
 \item Pour qu'un joueur puisse continuer à jouer, il doit posséder soit des terrains, des batiments ou encore avoir
 un capital. 
 \item Le capitale de chaque joueur varie tout au long de la partie en fonction des frais et des gains de chaque bâtiment.
 \item Les gains qu'apporte chaque bâtiment seront représentés par des visiteurs, qui, en suivant un chemin, pourront 
 rentrer dans un bâtiment qui augmentera le capital de son propriétaire.
 \item Si le joueur est en faillite, la partie se terminera pour ce joueur et il ne sera plus possible pour lui de
 continuer de jouer dans cette partie, mais il pourra toute fois la regarder.
 \item La partie se finie uniquement si il ne reste plus qu'un joueur propriétaire.

 \end{itemize}

\newpage
\chapter{Besoins du système}
\section{Exigences fonctionnelles}
\section{Exigences non fonctionnelles}
\section{Design et fonctionnement du système}
\begin{figure}[ht]
    \makebox[\linewidth]{
        \includegraphics[width=550pt]{uml/classDiagrams/CD.png}
    }
    \caption{Diagramme de classe : Architecture du système}
\end{figure}


\newpage
\chapter{Index des termes utilisés}
\begin{itemize}
 \item \textbf{Catalog}
 \item \textbf{Map}
 \item \textbf{Pseudo}
 \item \textbf{Computer Network}
 \item \textbf{Server}
 \item \textbf{System}
 \item \textbf{Upgrade}
 \item \textbf{Log In}
 \item \textbf{Log Out}
 \item \textbf{Host}
 \item \textbf{Join}
\end{itemize}
\newpage
\newpage
\printindex


\end{document}
